name: Convert Markdown

on: [push]

jobs:
  convert_via_pandoc:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Install Pandoc
        run: sudo apt-get install -y pandoc

      - name: Convert Markdown to PDF and DOCX
        run: |
          for file in build/*.md; do
            filename=$(basename -- "$file")
            filename="${filename%.*}"
            pandoc "$file" -o "build/${filename}.pdf"
            pandoc "$file" -o "build/${filename}.docx"
          done
